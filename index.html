<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecommerce </title>
    <!--Css link-->
    <link rel="stylesheet" href="CSS/style.css">
    <!--Box icons-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <!--Navbar-->
    <header>
        <!--Nav-->
        <div class="nav container">
            <!--Logo-->
            <a href="#" class="logo">Ecommerce</a>
            <!--Cart Icon-->
            <i class='bx bxs-shopping-bag-alt' id="cart-icon" data-quantity="0"></i>
       <!--Cart-->
       <div class="cart">
        <h2 class="cart-title">Your Cart</h2>
        <!--Content-->
        <div class="cart-content"></div>
        <!--Total-->
        <div class="total">
            <div class="total-title">Total</div>
            <div class="total-price">$0</div>
        </div>
        <!--Buy Button-->
        <button type="button" class="btn-buy"> Pay Now</button>
        <!--Close Cart-->
        <i class='bx bxs-comment-x' id="close-cart"></i>
       </div>
        </div>
    </header>
    <!--Products-->
 <section class="shop container">
    <h2 class="section-title">Shop Products</h2>
    <!--Shop Content-->
    <div class="shop-content">
        <!--Box 1-->
        <div class="product-box">
            <!--Stripe need online images that are on online local server it will not show in stripe checkout page we have to upload online -->
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhSw_nk703zoyD03Sqm-i_GF_GdFTYPQCJmMa9JJ8uNHAOfgqJGadmu3v_alcdFPrLKVAqQyJAxhiQ2a9mt0CWSPXM__Jlhd8K89sgckOgWekx64DdmwwGVuV28wLVm6lqGJ0LyPra1SBfPclEWnLWrn6B5j6jMkl_nTNtfLklViff_2uhRzzD3Mei5VAQ/s320/product1.jpeg" 
            alt="" class="product-img"/>
            <h2 class="product-title">ADICOLOR SEASONAL</h2>
            <span class="price">$50</span>
            <i class='bx bxs-shopping-bag add-cart'></i>
        </div>
        <!--Box 2-->
        <div class="product-box">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhJt05ryPqZHNT24L78bXh1pgDKK-pnjKQISZuo_Lden4rIta28g4r2PFN8WDlrhhcTHc6pprhipe-cAK3ZsGncLlWVv7laJOPKgu9pzvoXUIubYLLfBF9w3XOVkJPPGi095EhJ0wAUzv3r9LIJ4Hw9Lplovi2j_Gd7eHLI5UpPT5L369cQAuNkrSpZZck/s840/product2.jpeg" 
            alt="" class="product-img"/>
            <h2 class="product-title">SATURDAY BACKPACK</h2>
            <span class="price">$80</span>
            <i class='bx bxs-shopping-bag add-cart'></i>
        </div>
          <!--Box 3-->
          <div class="product-box">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiUmL2Jmh3gPV3bWYcCNM553zeiNXsYTZgW_ilT378f4-NWWAi1kFAEXqkDDZw_u1TnDOdTkfEwuQ1imP2gST3nh40qecOvMpM89eyA0oIlJMRxEjQs9yoyLP8xShD-iyozrekA6_stL_1-_-1ZxlCkBE9DKnXhPlgmcZp5RpdnjK-k7w7qm8crY-m3Jak/s320/product3.jpeg" 
            alt="" class="product-img"/>
            <h2 class="product-title">ULTIMATE HAT</h2>
            <span class="price">$25</span>
            <i class='bx bxs-shopping-bag add-cart'></i>
        </div>
          <!--Box 4-->
          <div class="product-box">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgBrvOy6eks-LTvTNlhI-eZr-OeItUindQHJtREkNFfKrJFTtpBZQYECrjmWtox75jA2OKNc6naZlkOr7NmCHbGY7ooCiWj7MDTA3e3-6Y8lHci48GsFiVALgpSr8iA4N1d7ZUYUpRvG6Zqt-12bAnb19v92YAIWJRslmQiALhXaDgJdgASzI2AVSsVyLY/s320/product4.jpeg" 
            alt="" class="product-img"/>
            <h2 class="product-title">MESSI GOAT TEE</h2>
            <span class="price">$80</span>
            <i class='bx bxs-shopping-bag add-cart'></i>
        </div>
          <!--Box 5-->
        <div class="product-box">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhwhypLKSsPDC3OmArpUxrp-pOIogq2KgVV04GGnQ0ulXL-TD1KOXX077VUr1CxnE29dv1t_jacLrFoseD4xGls0wNzsJ5Tdyd5Tm1xz90_YsgCZtodYM9S-kbvs3b4KKB_rQKhcwwEk-S2UDDXYIcRxPgiToW5N5Ss70WeKa8NrClPKECySRcU1a4oUqk/s320/product5.jpeg" 
            alt="" class="product-img"/>
            <h2 class="product-title">ADICOLOR HOODIE</h2>
            <span class="price">$99</span>
            <i class='bx bxs-shopping-bag add-cart'></i>
        </div>  <!--Box 6-->
        <div class="product-box">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgsaFw-_INpA3xpq3jKctRAiGZO07QH84tQyH_vzl8RXQmxyWMcrO_o2PIv74HkT5dQfb2D0-5FUPhtyjpPjJYJ3pFo4BDreJJT8FXnMM3GeS3sutUbMbz-B9Vds57zfinnSSftCtbEU1FIQtofPI-mTbgf6G3nEjRUdPzubmv6MxFUVwmT4MjWv3Gz0u8/s320/product6.jpeg" 
            alt="" class="product-img"/>
            <h2 class="product-title">ADIDAS EARBUDS</h2>
            <span class="price">$150</span>
            <i class='bx bxs-shopping-bag add-cart'></i>
        </div>
          <!--Box 7-->
          <div class="product-box">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgy8QfImYyqOoL-w6air2joKFaeg3HHIVOnGOUOBDX_YWDXQc-spYetWsh0z0uv-huOKC1t8xk9lz4i5ef8MIToqZHGY6mtKV1wHOs3103-JaNFb0V7yf0BFBZR1cl7COeXVvGt4CypFBJ8UtrBSKw2kBN41enZ_yYBRihB3cQ_gD6NpNCx0tSAhJBFJmA/s320/product7.jpeg" 
            alt="" class="product-img"/>
            <h2 class="product-title">METAL BOTTLE 1L</h2>
            <span class="price">$40</span>
            <i class='bx bxs-shopping-bag add-cart'></i>
        </div>
          <!--Box 8-->
          <div class="product-box">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhXtyotJ9CdHWO4MWkMiWxqNS626W9DBQtZaC1hyTr5QW4kX9NzJUcPK-obGqgGK78VnUVDL77XkNVJLvf-HOyTJAMhz-ZgqihpxU36a2G0yBgkWYKT13-drd9Yo7Dfc_Xk7nUCRFXnMYpG2SCvy7XOxg3MM1BTQWcKQUOQnraSty9hjMBdABTkENfnxu4/s320/product8.jpeg" 
            alt="" class="product-img"/>
            <h2 class="product-title">ULTRABOOST SHOES</h2>
            <span class="price">$250</span>
            <i class='bx bxs-shopping-bag add-cart'></i>
        </div>
    </div>
 </section>
 <script>
    // Add Product
    document.getElementById('addProductForm').addEventListener('submit', async (event) => {
        event.preventDefault();
        const formData = new FormData(event.target);
        const data = Object.fromEntries(formData.entries());

        const response = await fetch('/api/products', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
        });

        if (response.ok) {
            alert('Product added successfully!');
            loadProducts(); // Reload product list
        } else {
            alert('Error adding product');
        }
    });

    // Load Products
    async function loadProducts() {
        const response = await fetch('/api/products');
        const products = await response.json();
        const productList = document.getElementById('productList');
        productList.innerHTML = ''; // Clear previous products

        products.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.innerHTML = `
                <h2>${product.title}</h2>
                <p>Price: $${product.price}</p>
                <img src="${product.productImg}" alt="${product.title}" />
                <p>${product.description}</p>
            `;
            productList.appendChild(productDiv);
        });
    }

    // Add Order
    document.getElementById('addOrderForm').addEventListener('submit', async (event) => {
        event.preventDefault();
        const formData = new FormData(event.target);
        const data = Object.fromEntries(formData.entries());

        const response = await fetch('/api/orders', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
        });

        if (response.ok) {
            alert('Order created successfully!');
            loadOrders(); // Reload order list
        } else {
            alert('Error creating order');
        }
    });

    // Load Orders
    async function loadOrders() {
        const response = await fetch('/api/orders');
        const orders = await response.json();
        const orderList = document.getElementById('orderList');
        orderList.innerHTML = ''; // Clear previous orders

        orders.forEach(order => {
            const orderDiv = document.createElement('div');
            orderDiv.innerHTML = `
                <p>Product ID: ${order.productId}</p>
                <p>Quantity: ${order.quantity}</p>
                <p>Order Date: ${new Date(order.orderDate).toLocaleString()}</p>
            `;
            orderList.appendChild(orderDiv);
        });
    }

    // Load products and orders on page load
    loadProducts();
    loadOrders();
</script>
    <!--Link to JS-->
    <script src="JS/main.js"></script>
    <script src="JS/cart.js"></script>
</body>
</html>
